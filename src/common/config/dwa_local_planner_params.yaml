#planner_frequency: 1.0
#recovery_behavior_enabled: true
#clearing_rotation_allowed: true
# base_local_planner: base_local_planner/DWAPlannerROS
# base_global_planner: navfn/NavfnROS
# 
# controller_frequency: 8.0
# controller_patience: 15.0
# planner_frequency: 1.0
# planner_patience: 5.0 
# oscillation_timeout: 10.0
# oscillation_distance: 0.2
# recovery_behavior_enabled: true
# recovery_behaviors:
#     - name: 'super_conservative_reset'
#       type: 'clear_costmap_recovery/ClearCostmapRecovery'
#     - name: 'conservative_reset'
#       type: 'clear_costmap_recovery/ClearCostmapRecovery'
#     - name: 'aggressive_reset'
#       type: 'clear_costmap_recovery/ClearCostmapRecovery'
# super_conservative_reset:
#     reset_distance: 3.0
# conservative_reset:
#     reset_distance: 1.5
# aggressive_reset:
#     reset_distance: 0.5
# clearing_rotation_allowed: true
DWAPlannerROS:
    # acc
    acc_lim_x: 1.5  # 2.5 
    acc_lim_y: 0      # diff drive robot
    acc_lim_theta: 2.0  # 3.2
    acc_lim_trans: 1.5

    # vel
    max_trans_vel: 0.6 # choose slightly less than the base's capability
    min_trans_vel: 0.1 # this is min trans velocity when there is negligible rotational vel
    max_vel_x: 0.6  # 0.55
    min_vel_x: 0

    max_vel_y: 0  # diff drive robot
    min_vel_y: 0  # diff drive robot

    max_rot_vel: 1.0  # choose slightly less than the base's capability
    min_rot_vel: 0.3  # this is min angular velocity when there is negligible translational vel
    # trans_stopped_vel: 0.05
    # rot_stopped_vel: 0.01

    # Warning!
    # do not set min_trans_vel to 0.0 otherwise dwa will always think translational velocities
    # are non-negligible and small in place rotational velocities will be created.

  
    # Goal Tolerance Parameters
    yaw_goal_tolerance: 0.05  # 0.05
    xy_goal_tolerance: 0.08  # 0.10
    # latch_xy_goal_tolerance: false

    # Forward Simulation Parameters
    sim_time: 2.0       # 1.7
    vx_samples: 5       # 3
    vy_samples: 0      # diff drive robot, there is only one sample
    vth_samples: 15     # 20
    sim_granularity: 0.025
    angular_sim_granularity: 0.1
    controller_frequency: 20.0

    # Trajectory Scoring Parameters
    path_distance_bias: 32.0      # 32.0   - weighting for how much it should stick to the global path plan
    goal_distance_bias: 24.0      # 24.0   - wighting for how much it should attempt to reach its goal
    occdist_scale: 0.01           # 0.01   - weighting for how much the controller should avoid obstacles
    forward_point_distance: 0.325  # 0.325  - how far along to place an additional scoring point
    stop_time_buffer: 0.2         # 0.2    - amount of time a robot must stop in before colliding for a valid traj.
    scaling_speed: 0.25           # 0.25   - absolute velocity at which to start scaling the robot's footprint
    max_scaling_factor: 0.2       # 0.2    - how much to scale the robot's footprint when at speed.

    # Oscillation Prevention Parameters
    oscillation_reset_dist: 0.05  # 0.05   - how far to travel before resetting oscillation flags

    # Debugging
    # publish_traj_pc : true
    # publish_cost_grid_pc: true
    # global_frame_id: odom
    prune_plan: true
